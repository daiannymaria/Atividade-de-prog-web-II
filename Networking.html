<html>
    <head>
        <title> LISTANDO CIDADES </title>
    </head>

    <body>
        <input type="text" placeholder="DDD" id="DDD" size="7"> 
        <ul></ul>
        <script>
            document.querySelector("#DDD").addEventListener("change",buscaCidades)

            function buscaCidades(evento){
                fetch(`https://brasilapi.com.br/api/ddd/v1/${evento.target.value}`)
                .then(resposta => resposta.json())
                .then(dados => {
                    listaCidades(dados.cities)
                });
            }

            function listaCidades(cidades){
                const tamanho = cidades.length;
                const lista = document.querySelector("ul");
                lista.innerHTML = "<ul></ul>";
                for(let i = 0; i < tamanho; i++){
                    item = document.createElement("li");
                    item.textContent = cidades[i];
                    lista.append(item);
                }
            }
        </script>
    </body>
</html> 
      
   
